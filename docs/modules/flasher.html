<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>FlaSH, the flasher shell docs</title>
    <link rel="stylesheet" href="../ldoc_fixed.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>FlaSH, the flasher shell</h1>

<ul>
  <li><a href="https://muhkuh-sys.github.io/org.muhkuh.tools-flasher_pt/">HOME</a></li>
  <li><a href="https://github.com/muhkuh-sys/org.muhkuh.tools-flasher_pt">GitHub Project</a></li>
  <li><a href="../index_LDOC.html">Documentation</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Class_Flasher">Class Flasher </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/fsh.html">fsh</a></li>
  <li><a href="../modules/progressbar.html">progressbar</a></li>
  <li><strong>flasher</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>flasher</code></h1>
<p>The FlaSHer application.</p>
<p> A helpful tool to write, verify, read and erase data in flash.</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>:

</li>
        <li><strong>Release</strong>:

</li>
        <li><strong>License</strong>:

</li>
        <li><strong>Author</strong>: Christoph Thelen</li>
    </ul>


<h2><a href="#Class_Flasher">Class Flasher </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Flasher:_init">Flasher:_init (tLog)</a></td>
	<td class="summary">Initialize an instance of Flasher upon creation.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:default_callback_progress">Flasher:default_callback_progress (ulCnt, ulMax)</a></td>
	<td class="summary">Default callback progress function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:default_callback_message">Flasher:default_callback_message (a, b)</a></td>
	<td class="summary">Default callback message function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:write_image">Flasher:write_image (tPlugin, ulAddress, strData, fnCallbackProgress)</a></td>
	<td class="summary">Write an image.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:read_image">Flasher:read_image (tPlugin, ulAddress, ulSize, fnCallbackProgress)</a></td>
	<td class="summary">Read an image.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:call">Flasher:call (tPlugin, ulExecAddress, ulParameterAddress, fnCallbackMessage)</a></td>
	<td class="summary">Call function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:get_flasher_binary_path">Flasher:get_flasher_binary_path (iChiptype, strPathPrefix, fDebug)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:get_dword">Flasher:get_dword (strData, ulOffset)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:get_flasher_binary_attributes">Flasher:get_flasher_binary_attributes (strData)</a></td>
	<td class="summary">Extract header information from the flasher binary.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:download_netx_binary">Flasher:download_netx_binary (tPlugin, strData, fnCallbackProgress)</a></td>
	<td class="summary">Download binary to netX.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:download">Flasher:download (tPlugin, strPrefix, fnCallbackProgress)</a></td>
	<td class="summary">Download flasher.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:set_buffer_area">Flasher:set_buffer_area (aAttr, ulBufferAdr, ulBufferLen)</a></td>
	<td class="summary">Set the buffer area (when using SDRAM as a buffer, for instance).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:set_parameterblock">Flasher:set_parameterblock (tPlugin, ulAddress, aulParameters, fnCallbackProgress)</a></td>
	<td class="summary">Download parameters to netX.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:callFlasher">Flasher:callFlasher (tPlugin, aAttr, aulParams, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Stores parameters in netX memory, calls the flasher and returns the result value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:getBoardInfo">Flasher:getBoardInfo (tPlugin, aAttr, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:detect">Flasher:detect (tPlugin, aAttr, tBus, ulUnit, ulChipSelect, fnCallbackMessage, fnCallbackProgress, atParameter)</a></td>
	<td class="summary">Check if a device is available on tBus/ulUnit/ulChipSelect.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:readDeviceDescriptor">Flasher:readDeviceDescriptor (tPlugin, aAttr, fnCallbackProgress)</a></td>
	<td class="summary">Read device descriptor after detect (debugging).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:getDeviceId">Flasher:getDeviceId (tPlugin, aAttr, fnCallbackProgress)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:flash">Flasher:flash (tPlugin, aAttr, ulStartAdr, ulDataByteSize, ulDataAddress, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Writes data which has been loaded into the buffer at ulDataAddress to ulStartAddr in the flash.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:read">Flasher:read (tPlugin, aAttr, ulFlashStartOffset, ulFlashEndOffset, ulBufferAddress, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Reads data from flash to RAM.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:verify">Flasher:verify (tPlugin, aAttr, ulFlashStartOffset, ulFlashEndOffset, ulBufferAddress, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Compares data in flash to RAM.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:hash">Flasher:hash (tPlugin, aAttr, ulFlashStartOffset, ulFlashEndOffset, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Computes the SHA1 hash over data in the flash.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:getEraseArea">Flasher:getEraseArea (tPlugin, aAttr, ulStartAdr, ulEndAdr, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Determines the smallest interval of sectors which has to be erased in order to erase ulStartAdr to ulEndAdr-1.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:getFlashSize">Flasher:getFlashSize (tPlugin, aAttr, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Get the flash size via getEraseArea.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:isErased">Flasher:isErased (tPlugin, aAttr, ulEraseStart, ulEraseEnd, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Checks if the area from ulEraseStart to ulEraseEnd is 0xff.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:erase">Flasher:erase (tPlugin, aAttr, ulEraseStart, ulEraseEnd, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Erase an area in the flash.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:easy_erase">Flasher:easy_erase (tPlugin, aAttr, ulEraseStart, ulEraseEnd, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Easy erase.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:eraseArea">Flasher:eraseArea (tPlugin, aAttr, ulDeviceOffset, ulSize, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">erase an area.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:flashArea">Flasher:flashArea (tPlugin, aAttr, ulDeviceOffset, strData, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Flash data in chunks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:verifyArea">Flasher:verifyArea (tPlugin, aAttr, ulDeviceOffset, strData, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Verify data in chunks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:readArea">Flasher:readArea (tPlugin, aAttr, ulDeviceOffset, ulDataByteSize, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Read data in chunks.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:hashArea">Flasher:hashArea (tPlugin, aAttr, ulDeviceOffset, ulDataByteSize, fnCallbackMessage, fnCallbackProgress)</a></td>
	<td class="summary">Calculate the SHA1 hash of an area of an area in the flash.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:simple_flasher_string">Flasher:simple_flasher_string (tPlugin, strData, tBus, ulUnit, ulChipSelect, strFlasherPrefix, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">This is a simple routine to flash the data in a string.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:simple_flasher">Flasher:simple_flasher (tPlugin, strDataFileName, tBus, ulUnit, ulChipSelect, strFlasherPrefix, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">This is a simple routine to flash one file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:sdi_init">Flasher:sdi_init (tPlugin, aAttr, ulUnit, ulChipSelect, ulSpeed_kHz, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">SPI debug interface.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:sdi_chip_select">Flasher:sdi_chip_select (tPlugin, aAttr, uiActive, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:sdi_exchange_data">Flasher:sdi_exchange_data (tPlugin, aAttr, strData, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:sdi_send_data">Flasher:sdi_send_data (tPlugin, aAttr, strData, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:sdi_receive_data">Flasher:sdi_receive_data (tPlugin, aAttr, sizData, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">Description.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Flasher:sdi_idle_bytes">Flasher:sdi_idle_bytes (tPlugin, aAttr, sizIdleBytes, fnCallbackProgress, fnCallbackMessage)</a></td>
	<td class="summary">Description.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header has-description"><a name="Class_Flasher"></a>Class Flasher </h2>

          <div class="section-description">
          Flasher class.
          </div>
    <dl class="function">
    <dt>
    <a name = "Flasher:_init"></a>
    <strong>Flasher:_init (tLog)</strong>
    </dt>
    <dd>
    Initialize an instance of Flasher upon creation.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tLog</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Flasher:default_callback_progress"></a>
    <strong>Flasher:default_callback_progress (ulCnt, ulMax)</strong>
    </dt>
    <dd>

<p>Default callback progress function.  The default is to print a simple progress message to stdout.
   The function must accept 2 parameters:</p>
<pre><code>1) the number of processed bytes
2) the total number of bytes
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ulCnt</span>
         number of processed bytes
        </li>
        <li><span class="parameter">ulMax</span>
         total number of bytes
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The function must return one boolean. A value of 'true' continues the download operation, while a value of 'false' cancels the download.
    </ol>




</dd>
    <dt>
    <a name = "Flasher:default_callback_message"></a>
    <strong>Flasher:default_callback_message (a, b)</strong>
    </dt>
    <dd>
    Default callback message function.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">a</span>



        </li>
        <li><span class="parameter">b</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Flasher:write_image"></a>
    <strong>Flasher:write_image (tPlugin, ulAddress, strData, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Write an image.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">ulAddress</span>



        </li>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>




    </ol>




</dd>
    <dt>
    <a name = "Flasher:read_image"></a>
    <strong>Flasher:read_image (tPlugin, ulAddress, ulSize, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Read an image.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">ulAddress</span>



        </li>
        <li><span class="parameter">ulSize</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>




    </ol>




</dd>
    <dt>
    <a name = "Flasher:call"></a>
    <strong>Flasher:call (tPlugin, ulExecAddress, ulParameterAddress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    Call function.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">ulExecAddress</span>



        </li>
        <li><span class="parameter">ulParameterAddress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>




    </ol>




</dd>
    <dt>
    <a name = "Flasher:get_flasher_binary_path"></a>
    <strong>Flasher:get_flasher_binary_path (iChiptype, strPathPrefix, fDebug)</strong>
    </dt>
    <dd>
    Description.
 Prefix must include a trailing backslash if it's a directory.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">iChiptype</span>



        </li>
        <li><span class="parameter">strPathPrefix</span>



        </li>
        <li><span class="parameter">fDebug</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>




    </ol>




</dd>
    <dt>
    <a name = "Flasher:get_dword"></a>
    <strong>Flasher:get_dword (strData, ulOffset)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">ulOffset</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Flasher:get_flasher_binary_attributes"></a>
    <strong>Flasher:get_flasher_binary_attributes (strData)</strong>
    </dt>
    <dd>
    Extract header information from the flasher binary.
 Information about code/exec/buffer addresses.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">strData</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        aAttr: Returns the binary's attribute list.
    </ol>




</dd>
    <dt>
    <a name = "Flasher:download_netx_binary"></a>
    <strong>Flasher:download_netx_binary (tPlugin, strData, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Download binary to netX.  Extracts and returns the header information.
 Download a netx binary.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        aAttr: Returns the binary's attribute list.
    </ol>




</dd>
    <dt>
    <a name = "Flasher:download"></a>
    <strong>Flasher:download (tPlugin, strPrefix, fnCallbackProgress)</strong>
    </dt>
    <dd>

<p>Download flasher. </p>

<ul>
    <li><p>Load the flasher binary according to the chip type the plugin is connected to. </p></li>
    <li><p>Extract header information from the flasher (static information about code/exec/buffer addresses)</p></li>
    <li><p>Download the flasher to the specified address.</p></li>
</ul>




    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">strPrefix</span>
         path to flasher binaries
        </li>
        <li><span class="parameter">fnCallbackProgress</span>
         is a function to call while downloading the flasher.
   This parameter is optional. The default is to print a simple progress
   message to stdout.
   The function must accept 2 parameters:</p>
<pre><code>1) the number of processed bytes
2) the total number of bytes
</code></pre>
<p>   The function must return one boolean. A value of 'true' continues the
   download operation, while a value of 'false' cancels the download.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        aAttr: Returns flasher attributes (parameter address, buffer address etc.)
    </ol>




</dd>
    <dt>
    <a name = "Flasher:set_buffer_area"></a>
    <strong>Flasher:set_buffer_area (aAttr, ulBufferAdr, ulBufferLen)</strong>
    </dt>
    <dd>
    Set the buffer area (when using SDRAM as a buffer, for instance).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulBufferAdr</span>



        </li>
        <li><span class="parameter">ulBufferLen</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Flasher:set_parameterblock"></a>
    <strong>Flasher:set_parameterblock (tPlugin, ulAddress, aulParameters, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Download parameters to netX.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">ulAddress</span>



        </li>
        <li><span class="parameter">aulParameters</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>
         is a function to call while downloading the flasher.
   This parameter is optional. The default is to print a simple progress
   message to stdout.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Flasher:callFlasher"></a>
    <strong>Flasher:callFlasher (tPlugin, aAttr, aulParams, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Stores parameters in netX memory, calls the flasher and returns the result value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">aulParams</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>
         is a function to call while downloading the flasher.
   This parameter is optional. The default is to print a simple progress
   message to stdout.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        result value: 0 = success, 1 = failure
    </ol>




</dd>
    <dt>
    <a name = "Flasher:getBoardInfo"></a>
    <strong>Flasher:getBoardInfo (tPlugin, aAttr, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>
         is a function to call while downloading the flasher.
   This parameter is optional. The default is to print a simple progress
   message to stdout.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        aResult:
    </ol>




</dd>
    <dt>
    <a name = "Flasher:detect"></a>
    <strong>Flasher:detect (tPlugin, aAttr, tBus, ulUnit, ulChipSelect, fnCallbackMessage, fnCallbackProgress, atParameter)</strong>
    </dt>
    <dd>
    Check if a device is available on tBus/ulUnit/ulChipSelect.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">tBus</span>



        </li>
        <li><span class="parameter">ulUnit</span>



        </li>
        <li><span class="parameter">ulChipSelect</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>
         is a function to call while downloading the flasher.
   This parameter is optional. The default is to print a simple progress
   message to stdout.
        </li>
        <li><span class="parameter">atParameter</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:readDeviceDescriptor"></a>
    <strong>Flasher:readDeviceDescriptor (tPlugin, aAttr, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Read device descriptor after detect (debugging).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        strDevDesc: device description
    </ol>




</dd>
    <dt>
    <a name = "Flasher:getDeviceId"></a>
    <strong>Flasher:getDeviceId (tPlugin, aAttr, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        strDeviceId: device ID
    </ol>




</dd>
    <dt>
    <a name = "Flasher:flash"></a>
    <strong>Flasher:flash (tPlugin, aAttr, ulStartAdr, ulDataByteSize, ulDataAddress, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Writes data which has been loaded into the buffer at ulDataAddress to ulStartAddr in the flash.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulStartAdr</span>



        </li>
        <li><span class="parameter">ulDataByteSize</span>



        </li>
        <li><span class="parameter">ulDataAddress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:read"></a>
    <strong>Flasher:read (tPlugin, aAttr, ulFlashStartOffset, ulFlashEndOffset, ulBufferAddress, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Reads data from flash to RAM.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulFlashStartOffset</span>



        </li>
        <li><span class="parameter">ulFlashEndOffset</span>



        </li>
        <li><span class="parameter">ulBufferAddress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:verify"></a>
    <strong>Flasher:verify (tPlugin, aAttr, ulFlashStartOffset, ulFlashEndOffset, ulBufferAddress, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Compares data in flash to RAM.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulFlashStartOffset</span>



        </li>
        <li><span class="parameter">ulFlashEndOffset</span>



        </li>
        <li><span class="parameter">ulBufferAddress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        fEqual: if equal, returns true else false.
    </ol>




</dd>
    <dt>
    <a name = "Flasher:hash"></a>
    <strong>Flasher:hash (tPlugin, aAttr, ulFlashStartOffset, ulFlashEndOffset, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Computes the SHA1 hash over data in the flash.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulFlashStartOffset</span>



        </li>
        <li><span class="parameter">ulFlashEndOffset</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        ulValue == 0</li>
        <li>
        strHashBin:</li>
    </ol>




</dd>
    <dt>
    <a name = "Flasher:getEraseArea"></a>
    <strong>Flasher:getEraseArea (tPlugin, aAttr, ulStartAdr, ulEndAdr, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Determines the smallest interval of sectors which has to be erased in order to erase ulStartAdr to ulEndAdr-1.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulStartAdr</span>



        </li>
        <li><span class="parameter">ulEndAdr</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        ulEraseStart:             ,otherwise returns nil if the call fails.</li>
        <li>
        ulEraseEnd:             ,otherwise returns nil if the call fails.</li>
    </ol>




</dd>
    <dt>
    <a name = "Flasher:getFlashSize"></a>
    <strong>Flasher:getFlashSize (tPlugin, aAttr, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Get the flash size via getEraseArea.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulEraseEnd:
    </ol>




</dd>
    <dt>
    <a name = "Flasher:isErased"></a>
    <strong>Flasher:isErased (tPlugin, aAttr, ulEraseStart, ulEraseEnd, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Checks if the area from ulEraseStart to ulEraseEnd is 0xff.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulEraseStart</span>



        </li>
        <li><span class="parameter">ulEraseEnd</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        fIsErased:
 TODO: return nil if the call fails (e.g. because ulEraseEnd is too large)
    </ol>




</dd>
    <dt>
    <a name = "Flasher:erase"></a>
    <strong>Flasher:erase (tPlugin, aAttr, ulEraseStart, ulEraseEnd, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Erase an area in the flash.  The start and end addresses must be aligned to sector boundaries as set by getEraseArea.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulEraseStart</span>



        </li>
        <li><span class="parameter">ulEraseEnd</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:easy_erase"></a>
    <strong>Flasher:easy_erase (tPlugin, aAttr, ulEraseStart, ulEraseEnd, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Easy erase.  A combination of GetEraseArea, IsErased and Erase.</p>

<p> NOTE: This is an equivalent of the eraseArea function (see below) for environments without scripting capabilities. This function exists just for the sake of a complete API.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulEraseStart</span>



        </li>
        <li><span class="parameter">ulEraseEnd</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:eraseArea"></a>
    <strong>Flasher:eraseArea (tPlugin, aAttr, ulDeviceOffset, ulSize, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    erase an area. </p>

<p> Check if the area is already erased and erase only if it isn't empty.
 ulSize = 0xffffffff to erase from ulDeviceOffset to end of chip.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulDeviceOffset</span>



        </li>
        <li><span class="parameter">ulSize</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

         OK: <br/>
 returns true, The area is empty, no erase necessary. <br/>
 returns true, Area erased  </p>

<p> Error messages: <br/>
 returns false, "getEraseArea failed!" <br/>
 returns false, "Failed to check if the area is erased!" <br/>
 returns false, "getEraseArea failed!" <br/>
 returns false, "Failed to erase the area! (Failure during erase)" <br/>
 returns false, "Failed to erase the area! (isErased check failed)"
    </ol>




</dd>
    <dt>
    <a name = "Flasher:flashArea"></a>
    <strong>Flasher:flashArea (tPlugin, aAttr, ulDeviceOffset, strData, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Flash data in chunks.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulDeviceOffset</span>



        </li>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>


 Error messages: <br/>
 returns false, "Failed to flash data!"</p>

<p> Ok: <br/>
 returns true, "Image flashed."
    </ol>




</dd>
    <dt>
    <a name = "Flasher:verifyArea"></a>
    <strong>Flasher:verifyArea (tPlugin, aAttr, ulDeviceOffset, strData, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Verify data in chunks.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulDeviceOffset</span>



        </li>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>


 Ok: <br/>
 returns true, "The data in the flash is equal to the input file."</p>

<p> Error messages: <br/>
 returns false, "Differences were found."
    </ol>




</dd>
    <dt>
    <a name = "Flasher:readArea"></a>
    <strong>Flasher:readArea (tPlugin, aAttr, ulDeviceOffset, ulDataByteSize, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Read data in chunks. <br/>
  size = 0xffffffff to read from ulDeviceOffset to end of device.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulDeviceOffset</span>



        </li>
        <li><span class="parameter">ulDataByteSize</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>


 Ok: <br/>
 "Read successful." <br/>
 returns strBin, strMsg  </p>

<p> Error messages: <br/>
 nil, "Could not determine the flash size!"
 nil, "Error while reading from flash!"
 nil, "Error while reading from RAM buffer!"
    </ol>




</dd>
    <dt>
    <a name = "Flasher:hashArea"></a>
    <strong>Flasher:hashArea (tPlugin, aAttr, ulDeviceOffset, ulDataByteSize, fnCallbackMessage, fnCallbackProgress)</strong>
    </dt>
    <dd>
    Calculate the SHA1 hash of an area of an area in the flash. <br/>
 size = 0xffffffff to read from ulDeviceOffset to end of device.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulDeviceOffset</span>



        </li>
        <li><span class="parameter">ulDataByteSize</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

         Returns the hash as a binary string or nil and an error message.  </p>

<p> Ok: <br/>
 returns strFlashHashBin, "Checksum calculated."  </p>

<p> Error messages: <br/>
 returns nil, "Could not determine the flash size!" <br/>
 returns nil, "Error while calculating SHA1 hash"
    </ol>




</dd>
    <dt>
    <a name = "Flasher:simple_flasher_string"></a>
    <strong>Flasher:simple_flasher_string (tPlugin, strData, tBus, ulUnit, ulChipSelect, strFlasherPrefix, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    This is a simple routine to flash the data in a string.
 Load file from strDataFileName and write it to offset 0.
 Raise an error in case of any errors.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">tBus</span>



        </li>
        <li><span class="parameter">ulUnit</span>



        </li>
        <li><span class="parameter">ulChipSelect</span>



        </li>
        <li><span class="parameter">strFlasherPrefix</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Flasher:simple_flasher"></a>
    <strong>Flasher:simple_flasher (tPlugin, strDataFileName, tBus, ulUnit, ulChipSelect, strFlasherPrefix, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    This is a simple routine to flash one file.
 Load file from strDataFileName and write it to offset 0.
 Raise an error in case of any errors.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">strDataFileName</span>



        </li>
        <li><span class="parameter">tBus</span>



        </li>
        <li><span class="parameter">ulUnit</span>



        </li>
        <li><span class="parameter">ulChipSelect</span>



        </li>
        <li><span class="parameter">strFlasherPrefix</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Flasher:sdi_init"></a>
    <strong>Flasher:sdi_init (tPlugin, aAttr, ulUnit, ulChipSelect, ulSpeed_kHz, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    SPI debug interface.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">ulUnit</span>



        </li>
        <li><span class="parameter">ulChipSelect</span>



        </li>
        <li><span class="parameter">ulSpeed_kHz</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:sdi_chip_select"></a>
    <strong>Flasher:sdi_chip_select (tPlugin, aAttr, uiActive, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">uiActive</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:sdi_exchange_data"></a>
    <strong>Flasher:sdi_exchange_data (tPlugin, aAttr, strData, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        strRxData:
    </ol>




</dd>
    <dt>
    <a name = "Flasher:sdi_send_data"></a>
    <strong>Flasher:sdi_send_data (tPlugin, aAttr, strData, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">strData</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
    <dt>
    <a name = "Flasher:sdi_receive_data"></a>
    <strong>Flasher:sdi_receive_data (tPlugin, aAttr, sizData, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">sizData</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        strRxData:
    </ol>




</dd>
    <dt>
    <a name = "Flasher:sdi_idle_bytes"></a>
    <strong>Flasher:sdi_idle_bytes (tPlugin, aAttr, sizIdleBytes, fnCallbackProgress, fnCallbackMessage)</strong>
    </dt>
    <dd>
    Description.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tPlugin</span>
         plugin object with an active connection
        </li>
        <li><span class="parameter">aAttr</span>



        </li>
        <li><span class="parameter">sizIdleBytes</span>



        </li>
        <li><span class="parameter">fnCallbackProgress</span>



        </li>
        <li><span class="parameter">fnCallbackMessage</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ulValue == 0
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
